{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/cart/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCart } from '@/components/CartContext';\nimport Link from 'next/link';\nimport { useState } from 'react';\n\nexport default function CartPage() {\n  const { state, updateQuantity, removeItem, clearCart } = useCart();\n  const [isCheckingOut, setIsCheckingOut] = useState(false);\n\n  const handleQuantityChange = (productId: string, newQuantity: number) => {\n    if (newQuantity < 1) {\n      removeItem(productId);\n    } else {\n      updateQuantity(productId, newQuantity);\n    }\n  };\n\n  const handleCheckout = async () => {\n    if (state.items.length === 0) return;\n    \n    setIsCheckingOut(true);\n    \n    try {\n      const response = await fetch('/api/checkout', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          items: state.items.map(item => ({\n            id: item.id,\n            name: item.name,\n            price: item.price,\n            quantity: item.quantity\n          }))\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to create checkout session');\n      }\n\n      const { url } = await response.json();\n      \n      if (url) {\n        window.location.href = url;\n      } else {\n        throw new Error('No checkout URL received');\n      }\n    } catch (error) {\n      console.error('Checkout error:', error);\n      alert('Failed to proceed to checkout. Please try again.');\n    } finally {\n      setIsCheckingOut(false);\n    }\n  };\n\n  if (state.items.length === 0) {\n    return (\n      <div className=\"bg-white min-h-screen\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\n          <div className=\"text-center\">\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">Your Cart</h1>\n            <div className=\"bg-gray-50 rounded-lg p-12\">\n              <div className=\"text-6xl mb-4\">ðŸ›’</div>\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Your cart is empty</h2>\n              <p className=\"text-gray-600 mb-8\">\n                Looks like you haven't added any items to your cart yet.\n              </p>\n              <Link\n                href=\"/products\"\n                className=\"bg-black text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-800 transition-colors inline-block\"\n              >\n                Continue Shopping\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white min-h-screen\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">Your Cart</h1>\n          <button\n            onClick={clearCart}\n            className=\"text-red-600 hover:text-red-800 text-sm font-medium transition-colors\"\n          >\n            Clear Cart\n          </button>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\n          {/* Cart Items */}\n          <div className=\"divide-y divide-gray-200\">\n            {state.items.map((item) => (\n              <div key={item.id} className=\"p-6 flex items-center space-x-4\">\n                <div className=\"flex-shrink-0\">\n                  <img\n                    src={item.imageUrl}\n                    alt={item.name}\n                    className=\"w-20 h-20 object-cover rounded-lg\"\n                    onError={(e) => {\n                      const target = e.target as HTMLImageElement;\n                      target.src = `https://placehold.co/80x80?text=${encodeURIComponent(item.name)}`;\n                    }}\n                  />\n                </div>\n                \n                <div className=\"flex-1 min-w-0\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 truncate\">\n                    {item.name}\n                  </h3>\n                  <p className=\"text-gray-600 text-sm mt-1 line-clamp-2\">\n                    {item.description}\n                  </p>\n                  <p className=\"text-lg font-bold text-gray-900 mt-2\">\n                    ${item.price.toFixed(2)}\n                  </p>\n                </div>\n                \n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"flex items-center border border-gray-300 rounded-lg\">\n                    <button\n                      onClick={() => handleQuantityChange(item.id, item.quantity - 1)}\n                      className=\"p-2 hover:bg-gray-100 transition-colors\"\n                    >\n                      <span className=\"text-lg font-semibold\">âˆ’</span>\n                    </button>\n                    <span className=\"px-4 py-2 text-lg font-semibold min-w-[3rem] text-center\">\n                      {item.quantity}\n                    </span>\n                    <button\n                      onClick={() => handleQuantityChange(item.id, item.quantity + 1)}\n                      className=\"p-2 hover:bg-gray-100 transition-colors\"\n                    >\n                      <span className=\"text-lg font-semibold\">+</span>\n                    </button>\n                  </div>\n                  \n                  <button\n                    onClick={() => removeItem(item.id)}\n                    className=\"text-red-600 hover:text-red-800 p-2 transition-colors\"\n                    title=\"Remove item\"\n                  >\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n                \n                <div className=\"text-right\">\n                  <p className=\"text-lg font-bold text-gray-900\">\n                    ${(item.price * item.quantity).toFixed(2)}\n                  </p>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Cart Summary */}\n          <div className=\"bg-gray-50 p-6 border-t border-gray-200\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <span className=\"text-lg font-semibold text-gray-900\">\n                Total ({state.items.reduce((sum, item) => sum + item.quantity, 0)} items):\n              </span>\n              <span className=\"text-2xl font-bold text-gray-900\">\n                ${state.total.toFixed(2)}\n              </span>\n            </div>\n            \n            <div className=\"flex space-x-4\">\n              <Link\n                href=\"/products\"\n                className=\"flex-1 bg-white text-gray-900 border border-gray-300 px-6 py-3 rounded-lg font-semibold hover:bg-gray-50 transition-colors text-center\"\n              >\n                Continue Shopping\n              </Link>\n              \n              <button\n                onClick={handleCheckout}\n                disabled={isCheckingOut}\n                className=\"flex-1 bg-black text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {isCheckingOut ? 'Processing...' : 'Proceed to Checkout'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}