{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/admin/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { Product } from '@/components/CartContext';\n\nexport default function AdminPage() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [password, setPassword] = useState('');\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n\n  // New product form state\n  const [newProduct, setNewProduct] = useState({\n    name: '',\n    price: '',\n    description: '',\n    imageUrl: ''\n  });\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchProducts();\n    }\n  }, [isAuthenticated]);\n\n  const handleLogin = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (password === 'admin123') {\n      setIsAuthenticated(true);\n      setError(null);\n    } else {\n      setError('Incorrect password');\n    }\n  };\n\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/products');\n      if (!response.ok) throw new Error('Failed to fetch products');\n      const data = await response.json();\n      setProducts(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to fetch products');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddProduct = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!newProduct.name || !newProduct.price || !newProduct.description) {\n      setError('Please fill in all required fields');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const response = await fetch('/api/products', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          name: newProduct.name,\n          price: parseFloat(newProduct.price),\n          description: newProduct.description,\n          imageUrl: newProduct.imageUrl || undefined\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to add product');\n      }\n\n      const addedProduct = await response.json();\n      setProducts([...products, addedProduct]);\n      setNewProduct({ name: '', price: '', description: '', imageUrl: '' });\n      setSuccess('Product added successfully!');\n      setError(null);\n      \n      // Clear success message after 3 seconds\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to add product');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteProduct = async (productId: string) => {\n    if (!confirm('Are you sure you want to delete this product?')) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const response = await fetch(`/api/products?id=${productId}`, {\n        method: 'DELETE',\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to delete product');\n      }\n\n      setProducts(products.filter(product => product.id !== productId));\n      setSuccess('Product deleted successfully!');\n      setError(null);\n      \n      // Clear success message after 3 seconds\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to delete product');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setPassword('');\n    setProducts([]);\n    setError(null);\n    setSuccess(null);\n  };\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"bg-white min-h-screen\">\n        <div className=\"max-w-md mx-auto px-4 sm:px-6 lg:px-8 py-16\">\n          <div className=\"bg-white rounded-lg shadow-lg p-8\">\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-6 text-center\">\n              Admin Login\n            </h1>\n            \n            <form onSubmit={handleLogin} className=\"space-y-4\">\n              <div>\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  id=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\n                  placeholder=\"Enter admin password\"\n                  required\n                />\n              </div>\n              \n              {error && (\n                <div className=\"text-red-600 text-sm\">{error}</div>\n              )}\n              \n              <button\n                type=\"submit\"\n                className=\"w-full bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors font-medium\"\n              >\n                Login\n              </button>\n            </form>\n            \n            <div className=\"mt-6 text-center text-sm text-gray-600\">\n              <p>Demo password: <code className=\"bg-gray-100 px-2 py-1 rounded\">admin123</code></p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white min-h-screen\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"flex justify-between items-center mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">Admin Panel</h1>\n          <button\n            onClick={handleLogout}\n            className=\"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors\"\n          >\n            Logout\n          </button>\n        </div>\n\n        {error && (\n          <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6\">\n            {error}\n          </div>\n        )}\n\n        {success && (\n          <div className=\"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6\">\n            {success}\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* Add Product Form */}\n          <div className=\"bg-white rounded-lg shadow-lg p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Add New Product</h2>\n            \n            <form onSubmit={handleAddProduct} className=\"space-y-4\">\n              <div>\n                <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Product Name *\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"name\"\n                  value={newProduct.name}\n                  onChange={(e) => setNewProduct({ ...newProduct, name: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <label htmlFor=\"price\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Price ($) *\n                </label>\n                <input\n                  type=\"number\"\n                  id=\"price\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={newProduct.price}\n                  onChange={(e) => setNewProduct({ ...newProduct, price: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Description *\n                </label>\n                <textarea\n                  id=\"description\"\n                  rows={3}\n                  value={newProduct.description}\n                  onChange={(e) => setNewProduct({ ...newProduct, description: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <label htmlFor=\"imageUrl\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Image URL (optional)\n                </label>\n                <input\n                  type=\"url\"\n                  id=\"imageUrl\"\n                  value={newProduct.imageUrl}\n                  onChange={(e) => setNewProduct({ ...newProduct, imageUrl: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\n                  placeholder=\"https://example.com/image.jpg\"\n                />\n              </div>\n              \n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {loading ? 'Adding...' : 'Add Product'}\n              </button>\n            </form>\n          </div>\n\n          {/* Products List */}\n          <div className=\"bg-white rounded-lg shadow-lg p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n              Current Products ({products.length})\n            </h2>\n            \n            {loading && products.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500\">Loading products...</div>\n            ) : products.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500\">No products found</div>\n            ) : (\n              <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n                {products.map((product) => (\n                  <div key={product.id} className=\"border border-gray-200 rounded-lg p-4\">\n                    <div className=\"flex justify-between items-start\">\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-semibold text-gray-900\">{product.name}</h3>\n                        <p className=\"text-sm text-gray-600 mt-1\">{product.description}</p>\n                        <p className=\"text-lg font-bold text-gray-900 mt-2\">\n                          ${product.price.toFixed(2)}\n                        </p>\n                      </div>\n                      <button\n                        onClick={() => handleDeleteProduct(product.id)}\n                        disabled={loading}\n                        className=\"ml-4 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}